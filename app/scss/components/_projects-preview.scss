@use '../util' as u;

.projects-directory {
	display: flex;
	flex-direction: column;
	gap: 4rem;
	padding: 2rem;
	padding-block: u.rem(100);

	background-color: var(--background-color);
	background-image: url(/img/backgrounds/tinyPondText.png);
	background-position: center;
	background-size: 300vh;
	background-attachment: fixed;

	background-repeat: no-repeat;
}

/* Individual project block */
.project-link {
	display: block;
	text-decoration: none;
	color: inherit;
	border-radius: 8px;
	overflow: hidden;
	transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.project-link:hover {
	position: relative;
	transform: translateY(-4px);
	color: inherit;
	text-shadow: none;
}

/* Layout for the project preview */
.project-preview {
	display: flex;
	flex-direction: column;
	gap: 1rem;

	@include u.breakpoint(large) {
		flex-direction: row-reverse;
		text-align: right;
		align-items: flex-start;
		gap: 2rem;
	}
}

/* Apply column direction to even items */
.project-link:nth-child(odd) {
	.project-preview {
		display: flex;
		flex-direction: column;
		text-align: left;

		@include u.breakpoint(large) {
			flex-direction: column; /* Ensure column direction for even items */
		}
	}
}

/* Apply row-reverse direction to every other even item (2nd, 6th, 10th, etc.) */
.project-link:nth-child(4n + 2) {
	.project-preview {
		display: flex;
		flex-direction: row;
		text-align: left;

		@include u.breakpoint(large) {
			flex-direction: row; /* Ensure row-reverse for every other even item */
		}
	}
}

/* Video container with responsive aspect ratio */
.project-video {
	position: relative;
	width: 66.67%; /* Set the video container to 2/3 of the flex container */
	aspect-ratio: 16 / 9; /* Ensures a 16:9 aspect ratio */
	overflow: hidden;

	@include u.breakpoint-down(medium) {
		width: 100%;
	}
}

.project-link:nth-child(odd) .project-video {
	width: 100%; /* Set width to 100% for every even item */
}

.project-video iframe {
	width: 100%;
	height: 100%;
	border: none;
	display: block;
	pointer-events: none; /* Pass clicks through the iframe to the parent link */
}

/* Text container */
.project-info {
	position: relative;
	flex: 1;
	padding: 1rem;

	@include u.breakpoint(large) {
		margin-block-start: 10px;
	}

	&:hover {
		text-decoration: underline;
		text-decoration-thickness: 4px;
		text-decoration-color: var(--lilly-green); // Use custom green color
		text-decoration-style: dotted;
		text-underline-offset: 8px;
	}
}
